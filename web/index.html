<!doctype html>
<html lang="en" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Arbitrage Finder – Live Opportunities</title>
  <!-- Compiled Tailwind + your custom styles -->
  <link rel="stylesheet" href="/output.css" />
  <link rel="stylesheet" href="/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <style>
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    tbody tr { transition: background-color .12s ease; }
    html:not(.dark) tbody tr:hover { background: #f8fafc; }   /* light */
    html.dark tbody tr:hover { background: #0f172a; }          /* dark */
    /* Turn off any old content arrows */
    thead th[data-sort]::after { content: none !important; }

    /* Size + alignment for our injected SVGs */
    .sort-indicator svg { width: 12px; height: 12px; display: inline-block; vertical-align: middle; }
  </style>
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100">
  <header class="max-w-7xl mx-auto px-4 lg:px-6 py-6">
    <div class="flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <img src="/logo.svg" alt="Arb Arena logo" class="h-11 w-11 rounded-xl shadow-sm" />
        <div>
          <h1 class="text-3xl font-extrabold tracking-tight">Arb Arena</h1>
          <p class="text-sm text-slate-500 dark:text-slate-400">Free live arbitrage finder</p>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <div class="text-sm text-slate-500 dark:text-slate-400">
          Last updated: <span id="lastUpdated">—</span>
        </div>
        <button id="themeToggle"
          class="px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800">
          Toggle theme
        </button>
      </div>
    </div>
  </header>


  <main class="max-w-7xl mx-auto px-4 lg:px-6 pb-16">
    <!-- Filters -->
    <section class="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-5 mb-6">
      <div class="mb-4 flex items-end justify-between">
        <h2 class="text-xl font-semibold text-slate-900 dark:text-slate-100">Filters</h2>
        <div class="text-xs text-slate-500 dark:text-slate-400">Sorted by ROI (desc). Click headers to sort.</div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <div>
          <label for="sport" class="block text-base font-semibold text-slate-800 dark:text-slate-200 mb-1">Sport</label>
          <select id="sport" class="w-full rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary">
            <option value="">Any</option>
          </select>
        </div>
        <div>
          <label for="competitionId" class="block text-base font-semibold text-slate-800 dark:text-slate-200 mb-1">Competition ID</label>
          <select id="competitionId" class="w-full rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary">
            <option value="">Any</option>
          </select>
        </div>
        <div class="flex gap-2">
          <div class="flex-1">
            <label for="dateFrom" class="block text-base font-semibold text-slate-800 dark:text-slate-200 mb-1">From</label>
            <input id="dateFrom" type="date" class="w-full rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary" />
          </div>
          <div class="flex-1">
            <label for="dateTo" class="block text-base font-semibold text-slate-800 dark:text-slate-200 mb-1">To</label>
            <input id="dateTo" type="date" class="w-full rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary" />
          </div>
        </div>
        <div>
          <label for="minRoi" class="block text-base font-semibold text-slate-800 dark:text-slate-200 mb-1">Min ROI (%)</label>
          <div class="flex items-center gap-3">
            <input id="minRoi" type="range" min="0" max="10" value="0" step="0.1" class="flex-1" />
            <span id="minRoiValue" class="w-12 text-right tabular-nums">0.0</span>
          </div>
        </div>
      </div>

      <div class="mt-4 flex items-center justify-between gap-3">
        <div class="flex items-center gap-2">
          <button id="resetFilters" class="px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800">Reset</button>
          <button id="refresh" class="px-3 py-2 rounded-xl bg-primary hover:bg-blue-700 text-white">Refresh</button>
          <button id="requestUpdate"
            class="px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800">
            Request update
          </button>
          <span id="updateStatus" class="text-xs text-slate-500 dark:text-slate-400 ml-2"></span>
        </div>
      </div>
    </section>


    <!-- Table -->
    <section class="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden">
      <div class="overflow-x-auto">
        <table class="min-w-full text-sm">
          <thead class="bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 sticky top-0 z-10">
            <tr>
              <th class="px-4 py-3 text-left cursor-pointer" data-sort="dateISO">Date</th>
              <th class="px-4 py-3 text-left cursor-pointer" data-sort="sport">Sport</th>
              <th class="px-4 py-3 text-left">Game</th>
              <th class="px-4 py-3 text-left">Market</th>
              <th class="px-4 py-3 text-left">Line</th>
              <th class="px-4 py-3 text-right cursor-pointer" data-sort="roi">ROI</th>
              <th class="px-4 py-3 text-right">Search Phrase</th>
              <th class="px-4 py-3 text-left">Odds Page</th>
            </tr>
          </thead>
          <tbody id="tbody" class="divide-y divide-slate-100 dark:divide-slate-700"></tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="flex items-center justify-between p-3 border-t border-slate-200 dark:border-slate-700">
        <div class="text-xs text-slate-500 dark:text-slate-400"><span id="totalCount">0</span> results</div>
        <div class="flex items-center gap-2">
          <button id="prevPage" class="px-3 py-1.5 rounded-lg border border-slate-300 dark:border-slate-600 disabled:opacity-40 hover:bg-slate-50 dark:hover:bg-slate-800">Prev</button>
          <span class="text-sm tabular-nums"><span id="page">1</span>/<span id="pages">1</span></span>
          <button id="nextPage" class="px-3 py-1.5 rounded-lg border border-slate-300 dark:border-slate-600 disabled:opacity-40 hover:bg-slate-50 dark:hover:bg-slate-800">Next</button>
          <select id="pageSize" class="ml-2 rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <option>25</option>
            <option selected>50</option>
            <option>100</option>
          </select>
        </div>
      </div>
    </section>
  </main>
  <!-- Intro / how-to modal -->
  <div id="introModal" class="fixed inset-0 z-[100] hidden">
    <!-- overlay -->
    <div id="introOverlay" class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm"></div>

    <!-- card -->
    <div class="relative mx-auto mt-24 w-[92%] max-w-xl rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg">
      <div class="p-5">
        <div class="flex items-center gap-3 mb-3">
          <img src="/logo.svg" alt="Arb Arena" class="h-8 w-8 rounded-lg" />
          <h3 class="text-xl font-semibold">How to use Arb Arena</h3>
        </div>

        <p class="text-slate-600 dark:text-slate-300 text-sm leading-6">
          To find the exact bookmakers for an opportunity:
        </p>
        <ol class="mt-3 space-y-2 text-sm text-slate-700 dark:text-slate-200">
          <li>1. In the table, click <span class="font-semibold">Copy</span> next to the search phrase, then click <span class="font-semibold">Go</span>.</li>
          <li>2. On the AusSportsBetting odds page, press
            <span class="px-1 rounded border bg-slate-100 dark:bg-slate-700">Ctrl</span>+
            <span class="px-1 rounded border bg-slate-100 dark:bg-slate-700">F</span>
            (<span class="px-1 rounded border bg-slate-100 dark:bg-slate-700">⌘</span>+
            <span class="px-1 rounded border bg-slate-100 dark:bg-slate-700">F</span> on Mac),
            then
            <span class="px-1 rounded border bg-slate-100 dark:bg-slate-700">Ctrl</span>+
            <span class="px-1 rounded border bg-slate-100 dark:bg-slate-700">V</span>
            to paste the search phrase.</li>
          <li>3. You’ll jump straight to the line with the bookmakers for that market.</li>
        </ol>

        <div class="mt-5 flex items-center justify-between">
          <label class="flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400">
            <input type="checkbox" id="introDontShow" class="rounded border-slate-300 dark:border-slate-600" />
            Don’t show again
          </label>
          <button id="introClose" class="px-3 py-2 rounded-xl bg-primary hover:bg-blue-700 text-white">Got it</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/app.js" defer></script>
</body>
</html>
